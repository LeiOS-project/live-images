#!/bin/sh

set -e

lb config noauto \
	--clean \
	--architectures amd64 \
	--archive-areas 'main contrib non-free non-free-firmware' \
	--backports true \
	--security true \
	--updates true \
	--source false \
	--binary-filesystem ext4 \
	--binary-images iso-hybrid \
	--checksums sha256 \
	--debconf-frontend noninteractive \
	--debian-installer live \
	--debian-installer-distribution trixie \
	--debian-installer-gui true \
	--debootstrap-options "--include=apt-transport-https,ca-certificates,openssl" \
	--distribution trixie \
	--firmware-binary true \
	--firmware-chroot true \
	--initramfs live-boot \
	--linux-packages "linux-image linux-headers" \
	--memtest memtest86+ \
	--iso-publisher LeiCraft_MC \
	--iso-application "LeiOS" \
	--iso-volume LeiOS 0.1.0 AMD64 \
	--bootloaders "grub-pc grub-efi" \
	--bootappend-live "boot=live components quiet username=user hostname=leios" \

"${@}"
